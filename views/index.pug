extends default_layout

block angularControllers
  if req && req.user
    script(src="/javascripts/post-controller.js")

  unless req && req.user
    script(src="/javascripts/signup-controller.js")

block content

  unless req && req.user
    h1 Bienvenue

    div.callout.success
      p Vous ne pourrez pas faire grand chose tant que vous n’êtes pas connecté. <br>

    div.row
      div.small-12.medium-6.columns
        h3 Pas encore inscrit&nbsp;?
        p
          a.button.success.expanded(href="/signup") Créez votre compte
        p
          em la création de compte est gratuite pour les membres du jury

      div.small-12.medium-6.columns
        h3 Vous avez un compte&nbsp;?
        p
          a.button.expanded(href="/login") Connectez-vous


  if signupConfirmEmail
    div.callout.success(data-closable="slide-out-right")
      button.close-button(aria-label="Close alert", type="button", close="true")
        span(aria-hidden="true") &times;
      h3 Consultez votre messagerie
      p Un e-mail vous a été envoyé à
        = " "
        strong #{signupConfirmEmail}
        |.
      p Veuillez suivre les instructions pour confirmer votre inscription.

  if accountConfirmed
    div.callout.success(data-closable="slide-out-right")
      button.close-button(aria-label="Close alert", type="button", close="true")
        span(aria-hidden="true") &times;
      h3 Bienvenue&nbsp;!
      p Votre compte a été confirmé
      p
        em (vous avez été connecté(e) automatiquement)



  if req && req.user

    include ./includes/post_form.pug

  else
    // include ./includes/signup_form.pug
